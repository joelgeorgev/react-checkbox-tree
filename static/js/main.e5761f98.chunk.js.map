{"version":3,"sources":["components/checkbox.js","utils/normalize.js","components/checkbox-tree.js","utils/getNewState.js","components/intro.js","index.js","App.js","registerServiceWorker.js","assets/github.svg"],"names":["Checkbox","_ref","id","nodes","onToggle","node","key","childIds","checked","react_default","a","createElement","Fragment","type","className","onChange","length","map","childId","CheckboxTree","_useState","useState","_ref$list","list","_ref$recursionKey","recursionKey","normalizedData","counter","transform","_ref2","parentId","rest","Object","objectWithoutProperties","_toPropertyKey","objectSpread","push","forEach","childNode","defineProperty","normalize","data","_useState2","slicedToArray","setNodes","checkbox_Checkbox","prevNodes","prevState","toggleNode","newState","keys","value","clone","toggleSelfandChildren","_ref3","toggleParent","_ref4","parentNode","areChildrenChecked","isNodeChecked","_ref5","reduce","checkedAcc","getNewState","Intro","href","ReactDOM","render","role","intro_Intro","checkbox_tree_CheckboxTree","src","github","alt","document","getElementById","navigator","window","addEventListener","swUrl","concat","process","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.e5761f98.chunk.js","sourcesContent":["import React from 'react'\n\nexport const Checkbox = ({ id, nodes, onToggle }) => {\n  const node = nodes[id]\n  const { key, childIds, checked } = node\n\n  const handleChange = () => onToggle(id)\n\n  return (\n    <React.Fragment key={id}>\n      {key && (\n        <li>\n          <label>\n            <input\n              type='checkbox'\n              checked={checked}\n              className='mr2 pointer'\n              onChange={handleChange}\n            />\n            {key}\n          </label>\n        </li>\n      )}\n      {childIds.length ? (\n        <li>\n          <ul className='list'>\n            {childIds.map((childId) => (\n              <Checkbox\n                key={childId}\n                id={childId}\n                nodes={nodes}\n                onToggle={onToggle}\n              />\n            ))}\n          </ul>\n        </li>\n      ) : null}\n    </React.Fragment>\n  )\n}\n","export const normalize = ({ list = [], recursionKey = 'children' }) => {\n  let normalizedData = {}\n  let counter = -1\n\n  const transform = ({ node, parentId }) => {\n    counter += 1\n    const id = counter\n    const { [recursionKey]: unused, ...rest } = node\n    normalizedData[id] = {\n      ...rest,\n      parentId,\n      childIds: []\n    }\n    if (parentId >= 0) {\n      normalizedData[parentId].childIds.push(id)\n    }\n    if (node[recursionKey] && node[recursionKey].length) {\n      node[recursionKey].forEach((childNode) => {\n        transform({ node: childNode, parentId: id })\n      })\n    }\n  }\n\n  transform({ node: { [recursionKey]: list } })\n  return normalizedData\n}\n","import React, { useState } from 'react'\n\nimport { Checkbox } from '.'\nimport { normalize, getNewState } from '../utils'\nimport data from '../data/data.json'\n\nexport const CheckboxTree = () => {\n  const [nodes, setNodes] = useState(\n    normalize({ list: data, recursionKey: 'childKeys' })\n  )\n\n  const toggleCheckbox = (id) => {\n    setNodes((prevNodes) => getNewState({ id, prevState: prevNodes }))\n  }\n\n  return (\n    <ul className='list'>\n      <Checkbox id={0} nodes={nodes} onToggle={toggleCheckbox} />\n    </ul>\n  )\n}\n","export const getNewState = ({ id, prevState }) => {\n  const clone = (prevState) => {\n    let newState = {}\n\n    Object.keys(prevState).forEach((value) => {\n      newState[value] = { ...prevState[value] }\n    })\n    return newState\n  }\n\n  const toggleNode = ({ node, checked }) => {\n    node.checked = checked\n  }\n\n  const toggleSelfandChildren = ({ id, nodes, checked }) => {\n    const node = nodes[id]\n    const { childIds } = node\n\n    toggleNode({ node, checked })\n    if (childIds.length) {\n      childIds.forEach((childId) => {\n        toggleSelfandChildren({ id: childId, nodes, checked })\n      })\n    }\n  }\n\n  const toggleParent = ({ id, nodes }) => {\n    const isNodeChecked = ({ id, nodes }) => {\n      const node = nodes[id]\n      const { childIds } = node\n\n      return childIds.length\n        ? childIds.reduce(\n            (checkedAcc, childId) =>\n              checkedAcc && isNodeChecked({ id: childId, nodes }),\n            true\n          )\n        : node.checked\n    }\n\n    const parentId = nodes[id].parentId\n    const parentNode = nodes[parentId]\n    const areChildrenChecked = isNodeChecked({ id: parentId, nodes })\n\n    toggleNode({ node: parentNode, checked: areChildrenChecked })\n    if (parentNode.parentId >= 0) {\n      toggleParent({ id: parentId, nodes })\n    }\n  }\n\n  const nodes = clone(prevState)\n  toggleSelfandChildren({ id, nodes, checked: !nodes[id].checked })\n  toggleParent({ id, nodes })\n  return nodes\n}\n","import React from 'react'\n\nexport const Intro = () => (\n  <div>\n    <h3>React Checkbox Tree</h3>\n    <p>\n      A react app showcasing a simple checkbox tree component. This project was\n      created using{' '}\n      <a href='https://github.com/facebookincubator/create-react-app'>\n        create-react-app\n      </a>\n      .\n    </p>\n  </div>\n)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { App } from './App'\nimport registerServiceWorker from './registerServiceWorker'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\nregisterServiceWorker()\n","import React from 'react'\nimport 'tachyons/css/tachyons.min.css'\n\nimport { Intro, CheckboxTree } from './components'\nimport github from './assets/github.svg'\n\nexport const App = () => (\n  <main role='main'>\n    <section className='flex flex-column w-80 mw8 vh-100 center pv5'>\n      <div className='flex flex-auto flex-column'>\n        <Intro />\n        <CheckboxTree />\n      </div>\n      <div className='self-center'>\n        <a href='https://github.com/joelgeorgev/react-checkbox-tree'>\n          <img src={github} alt='GitHub' />\n        </a>\n      </div>\n    </section>\n  </main>\n)\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n      navigator.serviceWorker\n        .register(swUrl)\n        .then(registration => {\n          registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            installingWorker.onstatechange = () => {\n              if (installingWorker.state === 'installed') {\n                if (navigator.serviceWorker.controller) {\n                  // At this point, the old content will have been purged and\n                  // the fresh content will have been added to the cache.\n                  // It's the perfect time to display a \"New content is\n                  // available; please refresh.\" message in your web app.\n                  console.log('New content is available; please refresh.');\n                } else {\n                  // At this point, everything has been precached.\n                  // It's the perfect time to display a\n                  // \"Content is cached for offline use.\" message.\n                  console.log('Content is cached for offline use.');\n                }\n              }\n            };\n          };\n        })\n        .catch(error => {\n          console.error('Error during service worker registration:', error);\n        });\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/github.dc6635a4.svg\";"],"sourceRoot":""}